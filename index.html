<!DOCTYPE html>
<html>
    <head>
        <title>My Fractal</title>
        <link rel="stylesheet" type="text/css" href="style2.css">
        <link href='https://fonts.googleapis.com/css?family=Cedarville Cursive' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Calligraffitti' rel='stylesheet'>
    </head>
    <body>
        <section>
                <h1>Welcome to H-Tree (but not really)</h1>    
        </section>
        <div>
            <form name="customize">
                <legend><b>Select your colors: </b></legend>
                <input type="checkbox" name="c1" id = "red" value="r" ><label for="red"> <img src="icons/circle_r.svg" id = "r" onclick="changeRedImage()"> </label> 
                <input type="checkbox" name="c2" id = "green" value="g" > <label for="green"> <img src="icons/circle_g.svg" id = "g" onclick="changeGreenImage()" > </label> 
                <input type="checkbox" name="c3" id = "blue" value="b" > <label for="blue"> <img src="icons/circle_b.svg" id = "b" onclick="changeBlueImage()"> </label> 
                <legend><b>Select your seed shape: </b></legend>
                <div class = "shapes">
                    <label>
                        <input type="radio" name="shape" id = "straight" value="s1" class="shapes" checked> <img src="icons/tree-line48.svg" > &nbsp; &nbsp;
                    </label>

                    <label>
                        <input type="radio" name="shape" id = "semi" class="shapes" value="s2"> <img src="icons/tree-cemi-circle48.svg"> &nbsp; &nbsp;
                    </label>

                    <label>
                        <input type="radio" name="shape" id = "s" class="shapes" value="s3"> <img src="icons/tree-S48.svg"> &nbsp; &nbsp;
                    </label>

                    <label>
                        <input type="radio" name="shape" id = "circle" class="shapes" value="s4"> <img src="icons/tree-circle48.svg"> &nbsp; &nbsp;
                    </label>

                    <label>
                        <input type="radio" name="shape" id = "arc" class="shapes" value="s5"> <img src="icons/tree-arc48.svg"> &nbsp; &nbsp;
                    </label>

                    <label>
                        <input type="radio" name="shape" id = "switched" class="shapes" value="s6"> <img src="icons/tree-cemi-circle-inverted48.svg"> &nbsp; &nbsp;
                    </label>

                    <label>
                        <input type="radio" name="shape" id = "dot" class="shapes" value="s7"> <img src="icons/tree-dot48.svg"> &nbsp; &nbsp;
                    </label><br><br>
                </div>
                <input type="submit" onclick="setAction()" value = "Generate my personal fractal">   
            </form>

            <form name = "randFrac">
                <input type="submit" onclick="randomFractal()" value = "For the Adventurous">
            </form>
        </div>
            
    </body>

    <script>
        //boolean variables based on form input
        var isRed = document.getElementById("red");
        var isGreen = document.getElementById("green");
        var isBlue = document.getElementById("blue");

        var straight = document.getElementById("straight");
        var semi = document.getElementById("semi");
        var s = document.getElementById("s");
        var circle = document.getElementById("circle");
        var arc = document.getElementById("arc");
        var switched = document.getElementById("switched");
        var dot = document.getElementById("dot");



        function setAction() {

            
            var red= isRed.checked ? "r" : "";
            var green= isGreen.checked ? "g" : "";
            var blue= isBlue.checked ? "b" : "";

            localStorage.setItem("isRed", red);
            localStorage.setItem("isGreen", green);
            localStorage.setItem("isBlue", blue);
    

            var link = "";
            if (straight.checked == true) {
                link="animations/h_tree.html";//+red+green+blue;
            } else if (semi.checked == true) {
                link="animations/h_tree_semi.html"; //+red+green+blue;
            } else if (s.checked == true){
                link="animations/h_tree_s.html"; //+red+green+blue;
            } else if (circle.checked == true) {
                link="animations/h_tree_circle.html"; //+red+green+blue;
            } else if (arc.checked == true) {
                link="animations/h_tree_arc.html"; //+red+green+blue;
            } else if (switched.checked == true) {
                link="animations/h_tree_switched.html"; //+red+green+blue;
            } else if (dot.checked == true) {
                link="animations/h_tree_dot.html"; //+red+green+blue;
            }
            document["customize"].action = link;
        }
        
        function changeRedImage() {
            var image = document.getElementById("r");
            console.log(image.getAttribute("src"));
            if (image.getAttribute("src") === "icons/circle_r.svg") {
                image.setAttribute("src", "icons/circle_r_sel.svg");
            } else {
                image.setAttribute("src", "icons/circle_r.svg");
            }
            console.log(image.getAttribute("src"));
        }

        function changeGreenImage() {
            var image = document.getElementById("g");
            if (image.getAttribute("src") === "icons/circle_g.svg") {
                image.setAttribute("src", "icons/circle_g_sel.svg");
            } else {
                image.setAttribute("src", "icons/circle_g.svg");
            }
        }

        function changeBlueImage() {
            var image = document.getElementById("b");
            if (image.getAttribute("src") === "icons/circle_b.svg") {
                image.src = "icons/circle_b_sel.svg";
            } else {
                image.src = "icons/circle_b.svg";
            }
        }

        function randomFractal() {
            var file = "";
            var files = ["mods/h_tree_arc_skew20.html", "mods/h_tree_circle_special.html", "mods/h_tree_circles_special.html", "mods/h_tree_circles_special2.0.html", "mods/h_tree_dot_stand_still.html", "mods/h_tree_dot.html", "mods/h_tree_mod3.html", "mods/h_tree_s_randome_still.html", "mods/h_tree_skew10.html"];
            var rand = Math.floor(Math.random()*10);

            file = files[rand];
            console.log(file);

            document["randFrac"].action=file;
        }

    </script>
</html>
